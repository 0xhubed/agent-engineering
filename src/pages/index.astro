---
import BaseLayout from '../layouts/BaseLayout.astro';
import CodeBlock from '../components/CodeBlock.astro';

const topics = [
  {
    title: 'Tool Use & Function Calling',
    description: 'Learn how agents extend their capabilities by calling external tools, APIs, and databases.',
    href: '/agent-patterns/topics/tool-use/',
    available: true,
  },
  {
    title: 'ReAct Pattern',
    description: 'Master the Reasoning + Acting loop that powers agentic AI behavior.',
    href: '/agent-patterns/topics/react-pattern/',
    available: true,
  },
  {
    title: 'Memory Systems',
    description: 'Explore how agents maintain context and learn from past interactions.',
    href: '/agent-patterns/topics/memory/',
    available: true,
  },
  {
    title: 'Context Engineering',
    description: 'Optimize what goes into the context window. Write, Select, Compress, and Isolate strategies.',
    href: '/agent-patterns/topics/context-engineering/',
    available: true,
  },
  {
    title: 'Context Bloat & Rot',
    description: 'Understanding and mitigating performance degradation in large contexts.',
    href: '/agent-patterns/topics/context-bloat/',
    available: true,
  },
  {
    title: 'Prompt Caching',
    description: 'Reduce costs and latency by caching attention computations across requests.',
    href: '/agent-patterns/topics/prompt-caching/',
    available: true,
  },
  {
    title: 'Skills Pattern',
    description: 'Filesystem-based tool management with 98% token savings.',
    href: '/agent-patterns/topics/skills-pattern/',
    available: true,
  },
  {
    title: 'Model Context Protocol',
    description: 'Open protocol for connecting agents with tools and data sources.',
    href: '/agent-patterns/topics/mcp/',
    available: true,
  },
  {
    title: 'Agent2Agent Protocol',
    description: 'Protocol for agent-to-agent discovery and collaboration.',
    href: '/agent-patterns/topics/a2a/',
    available: true,
  },
  {
    title: 'Learning & Adaptation',
    description: 'Token-space learning, reflexion, and self-evolving agents.',
    href: '/agent-patterns/topics/learning-adaptation/',
    available: true,
  },
  {
    title: 'Multi-Agent Systems',
    description: 'Discover patterns for coordinating multiple specialized agents.',
    href: '/agent-patterns/topics/multi-agent/',
    available: true,
  },
  {
    title: 'Agentic RAG',
    description: 'Beyond simple retrieval: Self-RAG, Corrective RAG, and Graph RAG.',
    href: '/agent-patterns/topics/agentic-rag/',
    available: true,
  },
  {
    title: 'Safety & Guardrails',
    description: 'Implement safeguards to ensure agents behave safely and predictably.',
    href: '/agent-patterns/topics/safety/',
    available: true,
  },
  {
    title: 'Evaluation & Metrics',
    description: 'Measure agent performance: benchmarks, metrics, and LLM-as-Judge.',
    href: '/agent-patterns/topics/evaluation/',
    available: true,
  },
];

const sampleCode = [
  {
    language: 'pseudo',
    label: 'Pseudo-code',
    code: `function agentLoop(task):
    context = initializeContext(task)

    while not task.isComplete():
        observation = perceive(context)
        thought = reason(observation)
        action = decide(thought)
        result = execute(action)
        context = update(context, result)

    return context.result`,
  },
  {
    language: 'python',
    label: 'Python',
    code: `def agent_loop(task: Task) -> Result:
    context = initialize_context(task)

    while not task.is_complete():
        observation = perceive(context)
        thought = reason(observation)
        action = decide(thought)
        result = execute(action)
        context = update(context, result)

    return context.result`,
  },
  {
    language: 'csharp',
    label: 'C#',
    code: `public Result AgentLoop(Task task)
{
    var context = InitializeContext(task);

    while (!task.IsComplete())
    {
        var observation = Perceive(context);
        var thought = Reason(observation);
        var action = Decide(thought);
        var result = Execute(action);
        context = Update(context, result);
    }

    return context.Result;
}`,
  },
];
---

<BaseLayout title="Home">
  <!-- Hero Section -->
  <section class="py-20 sm:py-28">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl">
        <h1 class="text-4xl sm:text-5xl font-bold text-slate-900 dark:text-white mb-6 tracking-tight">
          Agent Engineering
        </h1>
        <p class="text-lg text-slate-600 dark:text-slate-400 mb-10 leading-relaxed">
          A comprehensive resource for understanding AI agent architectures, design patterns, and implementation strategies. From basic loops to advanced multi-agent systems.
        </p>
        <div class="flex flex-col sm:flex-row gap-4">
          <a
            href="/agent-patterns/topics/"
            class="inline-flex items-center justify-center px-5 py-2.5 text-sm font-medium text-white bg-slate-900 dark:bg-white dark:text-slate-900 hover:bg-slate-800 dark:hover:bg-slate-100 transition-colors"
          >
            Explore Topics
            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
          </a>
          <a
            href="/agent-patterns/benchmarks/"
            class="inline-flex items-center justify-center px-5 py-2.5 text-sm font-medium text-slate-700 dark:text-slate-300 border border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500 transition-colors"
          >
            View Benchmarks
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Code Example Preview -->
  <section class="py-16 border-t border-slate-200 dark:border-slate-800">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="mb-8">
        <h2 class="text-2xl font-semibold text-slate-900 dark:text-white mb-3">
          Code Examples
        </h2>
        <p class="text-slate-600 dark:text-slate-400">
          Every pattern includes implementations in pseudo-code, Python, and C#.
        </p>
      </div>
      <CodeBlock tabs={sampleCode} title="The Basic Agent Loop" />
    </div>
  </section>

  <!-- Topics Grid -->
  <section class="py-16 border-t border-slate-200 dark:border-slate-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="mb-10">
        <h2 class="text-2xl font-semibold text-slate-900 dark:text-white mb-3">
          Topics
        </h2>
        <p class="text-slate-600 dark:text-slate-400">
          Core concepts and patterns for building AI agents.
        </p>
      </div>
      <div class="grid gap-px bg-slate-200 dark:bg-slate-700 sm:grid-cols-2 lg:grid-cols-3">
        {topics.map((topic) => (
          topic.available ? (
            <a
              href={topic.href}
              class="group block p-6 bg-white dark:bg-slate-900 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors"
            >
              <h3 class="text-base font-medium text-slate-900 dark:text-white mb-2 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors">
                {topic.title}
              </h3>
              <p class="text-sm text-slate-500 dark:text-slate-400 leading-relaxed">
                {topic.description}
              </p>
            </a>
          ) : (
            <div class="block p-6 bg-white dark:bg-slate-900 opacity-50">
              <div class="flex justify-between items-start mb-2">
                <h3 class="text-base font-medium text-slate-900 dark:text-white">
                  {topic.title}
                </h3>
                <span class="px-2 py-0.5 text-xs text-slate-500 dark:text-slate-400">
                  Soon
                </span>
              </div>
              <p class="text-sm text-slate-500 dark:text-slate-400 leading-relaxed">
                {topic.description}
              </p>
            </div>
          )
        ))}
      </div>
    </div>
  </section>

  <!-- Benchmarks Preview -->
  <section class="py-16 border-t border-slate-200 dark:border-slate-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid lg:grid-cols-2 gap-12 items-start">
        <div>
          <h2 class="text-2xl font-semibold text-slate-900 dark:text-white mb-3">
            Benchmarks
          </h2>
          <p class="text-slate-600 dark:text-slate-400 mb-6">
            Industry-standard benchmarks for measuring agent capabilities.
          </p>
          <dl class="space-y-4">
            <div>
              <dt class="font-medium text-slate-900 dark:text-white">SWE-bench</dt>
              <dd class="text-sm text-slate-500 dark:text-slate-400">Software engineering task completion</dd>
            </div>
            <div>
              <dt class="font-medium text-slate-900 dark:text-white">WebArena</dt>
              <dd class="text-sm text-slate-500 dark:text-slate-400">Web browsing and interaction tasks</dd>
            </div>
            <div>
              <dt class="font-medium text-slate-900 dark:text-white">GAIA</dt>
              <dd class="text-sm text-slate-500 dark:text-slate-400">General AI assistant capabilities</dd>
            </div>
          </dl>
          <a
            href="/agent-patterns/benchmarks/"
            class="inline-flex items-center mt-6 text-sm text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors"
          >
            View all benchmarks
            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
          </a>
        </div>
        <div class="space-y-5">
          <div>
            <div class="flex items-center justify-between mb-1.5">
              <span class="text-sm text-slate-700 dark:text-slate-300">SWE-bench Verified</span>
              <span class="text-sm text-slate-500 dark:text-slate-400">72%</span>
            </div>
            <div class="h-1.5 bg-slate-200 dark:bg-slate-700 overflow-hidden">
              <div class="h-full bg-slate-900 dark:bg-white" style="width: 72%"></div>
            </div>
          </div>
          <div>
            <div class="flex items-center justify-between mb-1.5">
              <span class="text-sm text-slate-700 dark:text-slate-300">WebArena</span>
              <span class="text-sm text-slate-500 dark:text-slate-400">42%</span>
            </div>
            <div class="h-1.5 bg-slate-200 dark:bg-slate-700 overflow-hidden">
              <div class="h-full bg-slate-900 dark:bg-white" style="width: 42%"></div>
            </div>
          </div>
          <div>
            <div class="flex items-center justify-between mb-1.5">
              <span class="text-sm text-slate-700 dark:text-slate-300">GAIA Level 1</span>
              <span class="text-sm text-slate-500 dark:text-slate-400">75%</span>
            </div>
            <div class="h-1.5 bg-slate-200 dark:bg-slate-700 overflow-hidden">
              <div class="h-full bg-slate-900 dark:bg-white" style="width: 75%"></div>
            </div>
          </div>
          <p class="text-xs text-slate-400 dark:text-slate-500 pt-2">
            Top agent scores as of 2025
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Resources CTA -->
  <section class="py-16 border-t border-slate-200 dark:border-slate-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
        <div>
          <h2 class="text-2xl font-semibold text-slate-900 dark:text-white mb-2">
            Resources
          </h2>
          <p class="text-slate-600 dark:text-slate-400">
            Curated papers, frameworks, and tools for building AI agents.
          </p>
        </div>
        <a
          href="/agent-patterns/resources/"
          class="inline-flex items-center px-5 py-2.5 text-sm font-medium text-slate-700 dark:text-slate-300 border border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500 transition-colors"
        >
          Browse Resources
        </a>
      </div>
    </div>
  </section>
</BaseLayout>
