---
interface Props {
  type?: 'info' | 'warning' | 'tip' | 'danger';
  title?: string;
}

const { type = 'info', title } = Astro.props;

// Differentiated by border weight only â€” all newsprint-toned
const styles = {
  info:    { container: 'border-l-4 border-newsprint-400 bg-newsprint-100',   label: 'text-ink font-semibold' },
  warning: { container: 'border-l-4 border-amber-600 bg-amber-50',            label: 'text-amber-900 font-semibold' },
  tip:     { container: 'border-l-2 border-newsprint-500 bg-newsprint-50',    label: 'text-ink font-semibold' },
  danger:  { container: 'border-l-4 border-red-800 bg-red-50',                label: 'text-red-900 font-semibold' },
};

const defaultTitles = {
  info:    'Note',
  warning: 'Warning',
  tip:     'Tip',
  danger:  'Important',
};

const style = styles[type];
const displayTitle = title || defaultTitles[type];
---

<div class={`callout pl-4 pr-3 py-3 my-4 ${style.container}`} role={type === 'danger' || type === 'warning' ? 'alert' : 'note'}>
  <div class="flex flex-col gap-1">
    <span class={`font-display text-sm ${style.label}`}>{displayTitle}</span>
    <div class="font-serif text-sm text-ink-light leading-relaxed">
      <slot />
    </div>
  </div>
</div>
