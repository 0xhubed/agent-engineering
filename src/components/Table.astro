---
interface Props {
  caption?: string;
  class?: string;
}

const { caption, class: className = '' } = Astro.props;
---

<div class={`table-wrapper overflow-x-auto my-4 rounded-lg border border-slate-200 dark:border-slate-700 ${className}`}>
  <table class="w-full text-sm">
    <slot />
  </table>
  {caption && (
    <div class="px-4 py-2 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-200 dark:border-slate-700">
      <p class="text-xs text-slate-500 dark:text-slate-400 italic">{caption}</p>
    </div>
  )}
</div>

<style>
  .table-wrapper :global(thead) {
    @apply bg-slate-50 dark:bg-slate-800;
  }

  .table-wrapper :global(th) {
    @apply px-4 py-3 text-left font-semibold text-slate-700 dark:text-slate-200 border-b border-slate-200 dark:border-slate-700;
  }

  .table-wrapper :global(td) {
    @apply px-4 py-3 border-b border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300;
  }

  .table-wrapper :global(tr:last-child td) {
    @apply border-b-0;
  }

  .table-wrapper :global(tbody tr:hover) {
    @apply bg-slate-50 dark:bg-slate-800/50;
  }
</style>
