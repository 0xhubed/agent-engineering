---
interface Props {
  title?: string;
  caption?: string;
  class?: string;
}

const { title, caption, class: className = '' } = Astro.props;
---

<figure class={`diagram my-6 ${className}`}>
  {title && (
    <div class="font-serif text-sm text-ink-muted italic mb-2">{title}</div>
  )}
  <div class="diagram-content bg-newsprint-100 border border-newsprint-300 p-4 overflow-x-auto">
    <pre class="font-mono text-sm text-ink-light whitespace-pre leading-relaxed"><slot /></pre>
  </div>
  {caption && (
    <figcaption class="font-serif text-xs text-ink-muted mt-2 italic text-center">
      {caption}
    </figcaption>
  )}
</figure>

<style>
  .diagram-content pre {
    background: transparent;
    margin: 0;
    padding: 0;
    border: none;
  }
</style>
